<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>真机测试,测试测试</title>
	</head>
	<style>

		tr:nth-child(Odd){
			background-color: #f8f8f8;
		}
		tr:nth-child(even){
			background-color: #fff;
		}
		tr:hover{
			background-color: #E0E0E0;
		}
		td{
			cursor: pointer;
		}
		input{
			border: 0;
		}
		
	</style>
	<body>
		<table cellspacing="0"  width="500" cellspacing="2000">
		</table>
		<script>
			var dataArr=new Array();
			var _html="";
			var _tr="";
			var _td="";
			var tr_td="";
			var _table=document.getElementsByTagName('table');
			dataArr=[['item1-1','item1-2','item1-3'],['item2-1','item2-2','item2-3'],['item3-1','item3-2','item3-3'],['item4-1','item4-2','item4-3']]
			for(var i=0,len=dataArr.length;i<len;i++){
				console.log(i)
				_tr='<tr>parent</tr>';
				_td="";
				for(var j=0,itemLen=dataArr[i].length;j<itemLen;j++){
					_td+='<td ondblclick="inputCnt(event)"><input disabled="" style="background-color: rgba(255,255,255,0.1)" id="'+i+' '+j+'" onchange="changeItemVal(event)" type="text" value="'+dataArr[i][j]+'" /></td>';
				}
				
				tr_td+=_tr.replace('parent',_td);
			}
			console.log(_table);
			_table[0].innerHTML=tr_td;
			
			// 更改表格的item值
			function changeItemVal(e){
			   console.log(e.target.value);
			   var currntId=e.target.id;
			   var currrntIndex=currntId.split(' ');
			   dataArr[currrntIndex[0]][currrntIndex[1]]=e.target.value;
			   console.log('dataArr['+currrntIndex[0]+']['+currrntIndex[1]+']:'+dataArr[currrntIndex[0]][currrntIndex[1]]);
			}
			// 双击输入
			function inputCnt(e){
				let currntItem=document.getElementById(e.target.id);
				console.log(currntItem.disabled);
				currntItem.removeAttribute('disabled');
			}
		</script>
	</body>
</html>
